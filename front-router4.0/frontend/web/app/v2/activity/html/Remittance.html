<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
    <title></title>
    <style type="text/css">
      .bg_red{
        background: red;
        width: 100%;
        height: 600px;
      }
    </style>
  </head>
  <body>
    <div class="bg_red">

    </div>
  </body>

<script type="text/javascript">
  window.adaptVP = function(a) {
    function c() {
      var c, d;
      return b.uWidth = a.uWidth ? a.uWidth : 640, b.dWidth = a.dWidth ? a.dWidth : window.screen.width || window.screen.availWidth, b.ratio = window.devicePixelRatio ? window.devicePixelRatio : 1, b.userAgent = navigator.userAgent, b.bConsole = a.bConsole ? a.bConsole : !1, a.mode ? (b.mode = a.mode, void 0) : (c = b.userAgent.match(/Android/i), c && (b.mode = "android-2.2", d = b.userAgent.match(/Android\s(\d+.\d+)/i), d && (d = parseFloat(d[1])), 2.2 == d || 2.3 == d ? b.mode = "android-2.2" : 4.4 > d ? b.mode = "android-dpi" : d >= 4.4 && (b.mode = b.dWidth > b.uWidth ? "android-dpi" : "android-scale")), void 0)
    }

    function d() {
      var e, f, g, h, c = "",
        d = !1;
      switch (b.mode) {
        case "apple":
          c = "width=" + b.uWidth + ", user-scalable=1";
          break;
        case "android-2.2":
          a.dWidth || (b.dWidth = 2 == b.ratio ? 720 : 1.5 == b.ratio ? 480 : 1 == b.ratio ? 320 : .75 == b.ratio ? 240 : 480), e = window.screen.width || window.screen.availWidth, 320 == e ? b.dWidth = b.ratio * e : 640 > e && (b.dWidth = e), b.mode = "android-dpi", d = !0;
        case "android-dpi":
          f = 160 * b.uWidth / b.dWidth * b.ratio, c = "target-densitydpi=" + f + ", width=" + b.uWidth + ", user-scalable=1", d && (b.mode = "android-2.2");
          break;
        case "android-scale":
          c = "width=" + b.uWidth + ", user-scalable=1"
      }
      if(isApple){
        g=document.createElement("meta"),g.name="viewport",g.content="width=device-width, user-scalable=1";
        document.getElementsByTagName("head")[0].appendChild(g)
      }
      else {
        g = document.querySelector("meta[name='viewport']") || document.createElement("meta"), g.name = "viewport", g.content = c, h = document.getElementsByTagName("head"), h.length > 0 && h[0].appendChild(g)
      }
    }

    function e() {
      var a = "";
      for (key in b) a += key + ": " + b[key] + "; ";
      alert(a)
    }
    if (a) {
      var b = {
        uWidth: 0,
        dWidth: 0,
        ratio: 1,
        mode: "apple",
        userAgent: null,
        bConsole: !1
      };
      c(), d(), b.bConsole && e()
    }
  };
  document.body.style.width = '750px';
  adaptVP({
    uWidth: 750
  })
  window.addEventListener("orientationchange", function() {
    adaptVP && adaptVP(750);
  }, false);
</script>
</html>
